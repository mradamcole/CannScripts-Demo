(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1002:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return A});var s=a(383),o=a.n(s),n=a(8),r=a.n(n),i=a(9),c=a.n(i),l=a(10),p=a.n(l),d=a(14),u=a.n(d),g=a(51),m=a.n(g),h=a(15),v=a.n(h),N=a(0),I=a.n(N),C=(a(979),a(388)),M=a(384),w=a(381),y=a(143),f=a.n(y),b=a(395),D=a(7),A=function(e){function l(){var e,t,s;r()(this,l);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return p()(s,(t=s=p()(this,(e=u()(l)).call.apply(e,[this].concat(n))),s.state={showPopUpModal:!1,initialPopUpState:!0,ageVerified:!1,newsletterEmail:"",submitting:!1,autoValidate:!1,firstName:"",lastName:""},s.validateForm=function(){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s.state.newsletterEmail.toLowerCase())&&s.state.ageVerified&&""!==s.state.firstName&&""!==s.state.lastName},s.onSignUp=function(){if(s.setState({submitting:!0,autoValidate:!0}),s.validateForm()){s.setState({loading:!0});var a=m()(s);f.a.post("/Umbraco/api/NewsletterSignup/NewsletterSignupAsync",{email:s.state.newsletterEmail,subscribe:!0,mergeFields:{FNAME:s.state.firstName,LNAME:s.state.lastName}}).then(function(e){var t=e.data.responseMessage;a.setState({email:"",showMessage:!0,success:!0,loading:!1,message:t,messageClass:"",submitting:!1,showPopUpModal:!1}),"true"!==e.data.success&&!0!==e.data.success||(Object(D.w)("newsletterClosed","true",36135),a.moveUpElements())}).catch(function(){a.setState({showMessage:!0,success:!1,loading:!1,messageClass:" error",message:["We weren't able to add you to the email list. Please try again later."]})})}else s.setState({showMessage:!1,messageClass:" error",success:!1})},s.assembleErrors=function(){var e="";for(var t in s.state.message){e+="<li>"+s.state.message[t]+"</li>";break}return I.a.createElement("ul",{dangerouslySetInnerHTML:{__html:e}})},s.setMessage=function(e,t,a){s.setState({message:a,autoValidate:!1})},s.moveUpElements=function(){var e=document.getElementById("root-container");e&&(e.classList.remove("newsletter-margin"),e.classList.add("margin-reset-news"));var t=document.getElementById("newsletter-display");t&&t.classList.add("remove-container");var a=document.getElementById("error-container");a&&a.classList.add("top-pos");var s=document.getElementById("header-mark");s&&s.classList.add("margin-reset-news");var n=document.getElementById("menu");n&&n.classList.add("margin-reset-news");var i=document.getElementsByClassName("mobile-header");i[0]&&i[0].classList.add("margin-reset-news");var l=document.getElementsByClassName("hamburger");l[0]&&l[0].classList.add("margin-reset-news");var o=document.getElementById("mobile-cart-block-container");o&&o.classList.add("margin-reset-news")},s.onClose=function(){Object(D.w)("newsletterClosed","true",36135),s.moveUpElements()},s.onChange=function(e){s.setState(o()({},e.currentTarget.id,e.currentTarget.value))},s.onChecked=function(e){var t;t=void 0!==e.currentTarget.value?e.currentTarget.value:e.currentTarget.checked,"on"!==e.currentTarget.value&&"off"!==e.currentTarget.value||(t=e.currentTarget.checked),s.setState(o()({},e.currentTarget.id,t))},s.togglePopUpModal=function(){showNewsletterPopUpModal&&(showNewsletterPopUpModal=!1),s.setState(function(e){return{showPopUpModal:!e.showPopUpModal,initialPopUpState:!1}})},t))}return v()(l,e),c()(l,[{key:"componentWillMount",value:function(){var t=this;this.observable=b.Observable.interval(500).map(function(){return"undefined"!=typeof showNewsletterPopUpModal?showNewsletterPopUpModal:""}).distinctUntilChanged(),this.observable.subscribe(function(e){t.setState({showPopUpModal:e})})}},{key:"componentDidMount",value:function(){if("true"===Object(D.k)("newsletterClosed"))this.moveUpElements();else{var e=document.getElementById("root-container");e&&e.classList.add("newsletter-margin")}}},{key:"componentWillUnmount",value:function(){this.observable.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.state.ageVerified&&""!==this.state.newsletterEmail,a="response-message"+this.state.messageClass,s="";this.state.message&&0!=this.state.message.length&&!this.state.success&&(s=this.assembleErrors());var n="";return!this.state.ageVerified&&this.state.submitting&&(n="Please confirm your age and country of residence"),I.a.createElement("div",{className:"newsletter-header-container"},I.a.createElement(C.a,{title:"",showPopup:this.state.showPopUpModal||"undefined"!=typeof showNewsletterPopUpModal&&showNewsletterPopUpModal,initialState:this.state.initialPopUpState,togglePopup:this.togglePopUpModal},I.a.createElement("h1",{className:"title-newsletter-popup"},"Get the Newsletter"),I.a.createElement("p",{className:"description-newsletter-popup"},"To get the latest info on Sundial products, subscribe to our monthly newsletter"),I.a.createElement("div",{className:"sign-up-newsletter-input w95 pt5"},I.a.createElement(w.a,{title:"First Name",placeholder:"First Name",className:"field",type:"text",id:"firstName",autovalidate:this.state.autoValidate,validationCallback:this.setMessage,externalValidationMessage:!0,validations:D.a,onChange:this.onChange,value:this.state.firstName})),I.a.createElement("div",{className:"sign-up-newsletter-input w95 pt5"},I.a.createElement(w.a,{title:"Last Name",placeholder:"Last Name",className:"field",type:"text",id:"lastName",autovalidate:this.state.autoValidate,validationCallback:this.setMessage,externalValidationMessage:!0,validations:D.a,onChange:this.onChange,value:this.state.lastName})),I.a.createElement("div",{className:"sign-up-newsletter-input pt5"},I.a.createElement(w.a,{title:"SIGN UP",placeholder:"Email Address",className:"field",type:"text",id:"newsletterEmail",autovalidate:this.state.autoValidate,validationCallback:this.setMessage,externalValidationMessage:!0,validations:D.p,onChange:this.onChange,value:this.state.newsletterEmail}),I.a.createElement("div",{className:"submit-button ".concat(t?"":"invalid-submit"),onClick:function(){return e.onSignUp()}},"SIGN UP")),I.a.createElement("div",{className:"validation-message"},s),I.a.createElement("div",{className:"flex-column age-verify-newsletter-popup"},I.a.createElement(M.a,{validations:D.d,text:"Please confirm that you are of age to legally consume cannabis in your province (19+, or 18+ in Alberta and Quebec), and a resident of Canada.",checked:this.state.ageVerified,className:"checkbox",id:"ageVerified",onChange:this.onChecked}),I.a.createElement("div",{className:"validation-message"},n),I.a.createElement("p",{className:"agree-text"},"By clicking “sign up,” you agree to receive marketing emails from Sundial and accept our web terms of use, privacy and cookie policy."),this.state.showMessage&&this.state.message&&I.a.createElement("div",{className:a,dangerouslySetInnerHTML:{__html:this.state.message}}))),I.a.createElement("div",{className:"center-newsletter-container",onClick:function(){return window.innerWidth<=1100?e.togglePopUpModal():""}},I.a.createElement("h3",{className:"desktop-friendly"},"Get the Newsletter for news, product info and wellness articles."),I.a.createElement("h3",{className:"mobile-friendly"},"Tap here to sign up for our monthly newsletter."),I.a.createElement("div",{onClick:this.togglePopUpModal,className:"green-button",id:"newsletter-signup-header-button"},"SIGN UP")),I.a.createElement("div",{className:"newsletter-close-container"},I.a.createElement("div",{onClick:this.onClose,className:"newsletter-close-icon"})))}}]),l}(I.a.Component)},381:function(e,t,a){"use strict";var s=a(394),m=a.n(s),n=a(8),o=a.n(n),i=a(9),r=a.n(i),l=a(10),c=a.n(l),p=a(14),d=a.n(p),u=a(15),g=a.n(u),h=a(0),v=a.n(h),N=function(e){function l(){var e,t,n;o()(this,l);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return c()(n,(t=n=c()(this,(e=d()(l)).call.apply(e,[this].concat(s))),n.state={valid:!0,messages:[]},n.handleBlur=function(){n.validate(n.props,!0)},n.validate=function(t,e){var a=[],s=!0;(e||t.value!==n.props.value||t.invalidState!==n.props.invalidState)&&void 0!==t.validations&&(t.validations.forEach(function(e){void 0!==e.condition&&"equality"===e.condition?e.compareTo!==t.value&&(s=!1):e.condition.test(t.value)||(s=!1),s||a.push(e.message)}),n.setState({messages:a,valid:s}),n.props.validationCallback&&n.props.validationCallback(n.props.id,s,a))},n.handleKeyUp=function(e){if(n.props.uppercase){var t=e.target.selectionStart,a=e.target.selectionEnd;e.target.value=e.target.value.toUpperCase(),e.target.setSelectionRange(t,a)}n.props.onKeyPress&&n.props.onKeyPress(e)},t))}return g()(l,e),r()(l,[{key:"componentWillReceiveProps",value:function(e){e.autovalidate&&this.validate(this.props,!0)}},{key:"render",value:function(){var t=this,e=this.props,a=e.onChange,s=e.id,n=e.type,i=e.value,l=e.maxLength,o=e.pattern,r=e.disabled,c=e.placeholder,p=e.autoCorrect,d=e.spellCheck,u=e.autoComplete,g=0<this.state.messages.length?this.state.messages[0]:"";return v.a.createElement("div",{className:"input-container",ref:function(e){return t.wrapperRef=e}},v.a.createElement("h2",{className:"select-title",style:{color:this.props.titleColor?this.props.titleColor:""}},this.props.title,this.props.optionalText?v.a.createElement("span",{className:"input-optional-text"},this.props.optionalText):""),this.props.type||"password"===this.props.type?v.a.createElement("input",m()({onChange:a,id:s,type:n,value:i,maxLength:l,pattern:o,disabled:r,placeholder:c,autoCorrect:p,spellCheck:d,autoComplete:u},{onKeyUp:this.handleKeyUp,onBlur:this.handleBlur,className:"input-view pt0 ".concat(this.state.valid?"":"field__invalid"," ").concat(this.props.className?this.props.className:"")})):v.a.createElement("textarea",m()({onChange:a,id:s,type:n,value:i,maxLength:l,pattern:o,disabled:r,placeholder:c,autoCorrect:p,spellCheck:d,autoComplete:u},{onKeyUp:this.handleKeyUp,onBlur:this.handleBlur,className:"input-view ".concat(this.state.valid?"":"field__invalid"," ").concat(this.props.className?this.props.className:"")})),this.state.valid||this.props.externalValidationMessage?"":v.a.createElement("p",{className:"invalid-field mb0"},g))}}]),l}(v.a.Component);(t.a=N).displayName="InputComponent"},383:function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},384:function(e,t,a){"use strict";var s=a(8),n=a.n(s),i=a(9),l=a.n(i),o=a(10),r=a.n(o),c=a(14),p=a.n(c),d=a(15),u=a.n(d),g=a(0),m=a.n(g),h=function(e){function t(){return n()(this,t),r()(this,p()(t).apply(this,arguments))}return u()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(t){var a=[],s=!0;t.checked===this.props.checked&&t.invalidState===this.props.invalidState||void 0!==t.validations&&(t.validations.forEach(function(e){e.condition.test(t.checked)||(a.push(e.message),s=!1)}),this.setState({messages:a,valid:s}),this.props.validationCallback&&this.props.validationCallback(this.props.id,s))}},{key:"render",value:function(){var t=this;return m.a.createElement("div",{className:"".concat(this.props.className?this.props.className:""),ref:function(e){return t.wrapperRef=e}},m.a.createElement("label",{className:"control control--checkbox"},this.props.text,m.a.createElement("input",{checked:this.props.checked,id:this.props.id?this.props.id:"",onChange:this.props.onChange?this.props.onChange:function(){},type:"checkbox"}),m.a.createElement("div",{className:"control__indicator"})))}}]),t}(m.a.Component);(t.a=h).displayName="CheckboxComponent"},388:function(e,t,a){"use strict";a.d(t,"a",function(){return N});var s=a(8),n=a.n(s),i=a(9),l=a.n(i),o=a(10),r=a.n(o),c=a(14),p=a.n(c),d=a(15),u=a.n(d),g=a(0),m=a.n(g),h=a(416),v=a.n(h),N=function(e){function t(){return n()(this,t),r()(this,p()(t).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e="".concat(this.props.showPopup?"pop-up-fullscreen fadein":this.props.initialState?"pop-up-fullscreen hidden":"pop-up-fullscreen fadeout"),t="modal pop-up-container ".concat(this.props.showPopup?"slideup":"slideDown"),a=this.props.className||"";return m.a.createElement("div",{className:"".concat(e," ").concat(a),onClick:this.props.togglePopup},m.a.createElement("div",{className:t,id:"popup",onClick:function(e){return e.stopPropagation()}},m.a.createElement("h2",{className:"pop-up-title"},m.a.createElement("span",{className:"title-text"},this.props.title),m.a.createElement("img",{alt:"close",src:v.a,onClick:this.props.togglePopup})),this.props.children))}}]),t}(m.a.Component)},394:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},a.apply(this,arguments)}e.exports=a},416:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIxcHgiIGhlaWdodD0iMjFweCIgdmlld0JveD0iMCAwIDIxIDIxIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTAuMiAoNTUwNDcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5QYWdlIDE8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTkyMS4wMDAwMDAsIC00MTUuMDAwMDAwKSIgZmlsbD0iI0MxODg0RiI+DQogICAgICAgICAgICA8cG9seWdvbiBpZD0iUGFnZS0xIiBwb2ludHM9IjE5MzguMDczNzYgNDE1Ljc1NzgxMiAxOTMxLjA4NDggNDIyLjc0Njc3MSAxOTI0LjA5NTg0IDQxNS43NTc4MTIgMTkyMS4wOTM3NSA0MTguNzcxODM4IDE5MjguMDgyNzEgNDI1Ljc2MDc5NyAxOTIxLjA5Mzc1IDQzMi43NDk3NTUgMTkyNC4wOTU4NCA0MzUuNzU3ODEyIDE5MzEuMDg0OCA0MjguNzY4ODU0IDE5MzguMDczNzYgNDM1Ljc1NzgxMiAxOTQxLjA4Nzc4IDQzMi43NDk3NTUgMTkzNC4wOTg4MiA0MjUuNzYwNzk3IDE5NDEuMDg3NzggNDE4Ljc3MTgzOCI+PC9wb2x5Z29uPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},979:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQ0cHgiIGhlaWdodD0iNDVweCIgdmlld0JveD0iMCAwIDQ0IDQ1IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTAuMiAoNTUwNDcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5QYWdlIDE8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjAxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc4NS4wMDAwMDAsIC01MC4wMDAwMDApIiBmaWxsPSIjRkVGRUZFIj4NCiAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYWdlLTEiIHBvaW50cz0iMjgyNi45MDI3MyA1MC4yNTc4MTI1IDI4MDcuMDUzMDEgNzAuMTA3NTM3NSAyNzg3LjIwNjI4IDUwLjI1NzgxMjUgMjc4NS4wODU5NCA1Mi4zNzUxNTY0IDI4MDQuOTM1NjYgNzIuMjI0ODgxNCAyNzg1LjA4NTk0IDkyLjA3NDYwNjQgMjc4Ny4yMDYyOCA5NC4xOTE5NTA0IDI4MDcuMDUzMDEgNzQuMzQyMjI1NCAyODI2LjkwMjczIDk0LjE5MTk1MDQgMjgyOS4wMjAwOCA5Mi4wNzQ2MDY0IDI4MDkuMTczMzUgNzIuMjI0ODgxNCAyODI5LjAyMDA4IDUyLjM3NTE1NjQiPjwvcG9seWdvbj4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="}}]);