(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1001:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return N});var n=a(383),d=a.n(n),i=a(8),p=a.n(i),s=a(9),r=a.n(s),o=a(10),f=a.n(o),c=a(14),m=a.n(c),l=a(51),y=a.n(l),h=a(15),v=a.n(h),u=a(0),g=a.n(u),b=a(7),O=a(392),D=a(384),E=a(143),k=a.n(E),w=a(377),B=a.n(w),S=b.n+"Sundial_Logo_Green.svg",N=function(e){function u(e){var a;p()(this,u),(a=f()(this,m()(u).call(this,e))).state={province:"",DateOfBirthMonth:"",DateOfBirthYear:"",DateOfBirthDay:"",invalid:!1,hidden:!0,rememberMe:!1,hideContainer:!0,underage:!1},a.checkLocation=function(){var t=y()(a);k.a.get("https://api.ipify.org?format=json").then(function(e){void 0!==e.data.ip&&k.a.get("https://ipapi.co/".concat(e.data.ip,"/json/ ")).then(function(e){t.setState({province:e.data.region})})}).catch(function(){})},a.hideSelf=function(){a.setState({hideContainer:!0}),document.getElementById("age-verification").classList.toggle("verified")},a.customChangeEvent=function(e,t){"DateOfBirthYear"==t&&(B()([e]).isLeapYear()?a.months[1].February.days=a.FebDaysLeap:(a.months[1].February.days=a.FebDaysNoLeap,2==a.state.DateOfBirthMonth&&29==a.state.DateOfBirthDay&&a.setState({DateOfBirthDay:28}))),a.setState(d()({},t,e))},a.customCheckEvent=function(){a.setState(function(e){return{rememberMe:!e.rememberMe}})},a.checkAge=function(){if(""!==a.state.province&&""!==a.state.DateOfBirthMonth&&""!==a.state.DateOfBirthDay&&""!==a.state.DateOfBirthYear){var e="".concat(a.state.DateOfBirthYear,"-").concat(a.state.DateOfBirthMonth,"-").concat(a.state.DateOfBirthDay),t=B()().diff(e,"years",!0);if("Alberta"===a.state.province||"Quebec"===a.state.province){if(t<18)return void a.setState({underage:!0})}else if(t<19)return void a.setState({underage:!0});a.state.rememberMe?Object(b.w)("hasBeenAgeVerified",!0,36135):sessionStorage.setItem("hasBeenAgeVerified",!0),a.hideSelf()}else""===a.state.province?a.setState({invalid:!0}):a.setState({underage:!0})},a.arrayOfYears=[],a.arrayOfYoungYears=[],a.months=[],a.FebDaysLeap=[],a.FebDaysNoLeap=[];for(var t=[],n=[],i=1,s=B()().subtract(19,"years"),r=B()().subtract(18,"years");i<=31;)i<=30&&n.push(i),i<=29&&a.FebDaysLeap.push(i),i<=28&&a.FebDaysNoLeap.push(i),t.push(i),i+=1;a.months=[{January:{days:t}},{February:{days:a.FebDaysLeap}},{March:{days:t}},{April:{days:n}},{May:{days:t}},{June:{days:n}},{July:{days:t}},{August:{days:t}},{September:{days:n}},{October:{days:t}},{November:{days:n}},{December:{days:t}}];for(var o=parseInt(s.year()),c=o-89;c<o;)a.arrayOfYears.push(o),o-=1;for(var l=parseInt(r.year()),h=l-89;h<l;)a.arrayOfYoungYears.push(l),l-=1;return a}return v()(u,e),r()(u,[{key:"componentDidMount",value:function(){var e=Object(b.k)("hasBeenAgeVerified");"/login"===window.location.pathname||isAuthenticated||"true"===e||sessionStorage.getItem("hasBeenAgeVerified")?this.hideSelf():(this.setState({hidden:!1,hideContainer:!1}),this.checkLocation())}},{key:"render",value:function(){var a=this,n=this.months.map(function(e,t){return Object.keys(e)[0]});if(void 0===this.state.hideContainer||!0===this.state.hideContainer)return"";this.state;return g.a.createElement("div",{className:"age-verification-overlay"},!this.state.hidden&&g.a.createElement("div",{className:"blur-background"}),g.a.createElement("div",{className:"age-verification-container"},g.a.createElement("img",{alt:"logo",src:S}),g.a.createElement("h1",{className:"age-title"}," ",this.state.underage?"Sorry":"Welcome!"),g.a.createElement("p",{className:"responsibility-disclaimer"},this.state.underage?"You must be ".concat("Alberta"===this.state.province||"Quebec"===this.state.province?"18":"19"," or over to view this website."):"You must be of legal age in accordance with the law of your province to access this website."),!this.state.underage&&g.a.createElement(O.a,{id:"province",title:"WHERE DO YOU LIVE?",selectText:""!==this.state.province?this.state.province:"Province",isGray:""===this.state.province,options:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"],invalid:""===this.state.province&&this.state.invalid,errorText:"Please select a province",itemSelect:function(e,t){return a.customChangeEvent(e,t)}}),!this.state.underage&&g.a.createElement("div",{className:"dob-container"},g.a.createElement(O.a,{id:"DateOfBirthMonth",className:"month",title:"DATE OF BIRTH",isGray:""===this.state.DateOfBirthMonth,selectText:this.state.DateOfBirthMonth?n[this.state.DateOfBirthMonth-1]:"Month",options:n,invalid:!(""!==this.state.DateOfBirthMonth||!this.state.invalid),errorText:"Please select a month",itemSelect:function(e,t){return a.customChangeEvent(n.indexOf(e)+1,t)}}),g.a.createElement(O.a,{id:"DateOfBirthDay",title:"",className:"day",isGray:""===this.state.DateOfBirthDay,selectText:""!==this.state.DateOfBirthDay?this.state.DateOfBirthDay:"Day",options:this.state.DateOfBirthMonth?this.months[this.state.DateOfBirthMonth-1][n[this.state.DateOfBirthMonth-1]].days:this.months[0].January.days,invalid:!(""!==this.state.DateOfBirthDay||!this.state.invalid),errorText:"Please select a day",itemSelect:function(e,t){return a.customChangeEvent(e,t)}}),g.a.createElement(O.a,{id:"DateOfBirthYear",title:"",className:"year",isGray:""===this.state.DateOfBirthYear,selectText:this.state.DateOfBirthYear?this.state.DateOfBirthYear:"Year",options:"Alberta"===this.state.province||"Quebec"===this.state.province?this.arrayOfYoungYears:this.arrayOfYears,invalid:!(""!==this.state.DateOfBirthYear||!this.state.invalid),errorText:"Please select a year",itemSelect:function(e,t){return a.customChangeEvent(e,t)}})),!this.state.underage&&g.a.createElement("div",{className:"remember-me-container"},g.a.createElement(D.a,{text:"Remember Me",checked:this.state.rememberMe,className:"checkbox_green",id:"rememberMe",onChange:function(){return a.customCheckEvent()}})),!this.state.underage&&g.a.createElement("div",{className:"policy-agreement-container"},"By entering this site you agree to our ",g.a.createElement("br",null),g.a.createElement("a",{href:"/terms"},"TERMS & CONDITIONS"),"   and   ",g.a.createElement("a",{href:"/privacy"},"PRIVACY POLICY")),!this.state.underage&&g.a.createElement("div",{className:"submit-button",onClick:function(){return a.checkAge()}},"SUBMIT"),g.a.createElement("div",{id:"investor-links"},g.a.createElement("p",null,"Looking for Sundial Investor Relations? Visit ",g.a.createElement("a",{href:"http://www.sndlgroup.com",className:"green-link",target:"_blank"},"sndlgroup.com"),"."))))}}]),u}(g.a.Component)},383:function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},384:function(e,t,a){"use strict";var n=a(8),i=a.n(n),s=a(9),r=a.n(s),o=a(10),c=a.n(o),l=a(14),h=a.n(l),u=a(15),d=a.n(u),p=a(0),f=a.n(p),m=function(e){function t(){return i()(this,t),c()(this,h()(t).apply(this,arguments))}return d()(t,e),r()(t,[{key:"componentWillReceiveProps",value:function(t){var a=[],n=!0;t.checked===this.props.checked&&t.invalidState===this.props.invalidState||void 0!==t.validations&&(t.validations.forEach(function(e){e.condition.test(t.checked)||(a.push(e.message),n=!1)}),this.setState({messages:a,valid:n}),this.props.validationCallback&&this.props.validationCallback(this.props.id,n))}},{key:"render",value:function(){var t=this;return f.a.createElement("div",{className:"".concat(this.props.className?this.props.className:""),ref:function(e){return t.wrapperRef=e}},f.a.createElement("label",{className:"control control--checkbox"},this.props.text,f.a.createElement("input",{checked:this.props.checked,id:this.props.id?this.props.id:"",onChange:this.props.onChange?this.props.onChange:function(){},type:"checkbox"}),f.a.createElement("div",{className:"control__indicator"})))}}]),t}(f.a.Component);(t.a=m).displayName="CheckboxComponent"},392:function(e,t,a){"use strict";var n=a(412),o=a.n(n),i=a(8),c=a.n(i),s=a(9),l=a.n(s),r=a(10),h=a.n(r),u=a(14),d=a.n(u),p=a(51),f=a.n(p),m=a(15),y=a.n(m),v=a(0),g=a.n(v),b=a(7),O=a(395),D=b.n+"checkmark_gray.png",E=function(e){function r(){var e,t,n;c()(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return h()(n,(t=n=h()(this,(e=d()(r)).call.apply(e,[this].concat(i))),n.state={fuzzyMatchKey:"",fuzzyMatchKeyAttempts:0,optionWidth:100,selectedItem:null,selectedOptionIndex:-1,subject:new O.Subject},n.setOptionWidth=function(){if(void 0!==n.refs.selectionBox){var e=n.refs.selectionBox.offsetWidth;n.setState({optionWidth:e-6})}},n.handleClickOutside=function(e){n.wrapperRef&&!n.wrapperRef.contains(e.target)&&void 0!==n.options&&void 0!==n.options.classList&&n.options.classList.contains("show")&&(n.options.classList.remove("show"),n.options.classList.add("hidden"))},n.onSelect=function(e,t){"blur"===e&&t&&t.target===f()(n)||("itemselect"===e&&"itemselect"===t?n.toggleOptionDisplay():t&&n.state.subject.next(e,t.target))},n.toggleOptionDisplay=function(){var e=n.isVisible()||!1;n.options.classList.contains("hidden")&&!e?(n.options.classList.add("show"),n.options.classList.remove("hidden")):(n.options.classList.remove("show"),n.options.classList.add("hidden"))},n.getWidthOfOptions=function(){return n.selectionBox?g.a.ReactDOM.findDOMNode(n.refs.selectionBox).getBoundingClientRect().offsetWidth-6:0},n.handleKeyPress=function(e){if("Enter"!=e.key){var t=n.fuzzyMatch(e.key);0<t.length&&t[n.state.fuzzyMatchKeyAttempts].focus()}else n.onSelect("select",e)},n.fuzzyMatch=function(a){var t=[],e=o()(n.options.children);return t=(t=e.map(function(e,t){return!!e.textContent.toLowerCase().startsWith(a)&&e})).filter(function(e){return 0!=e}),a!==n.state.fuzzyMatchKey?n.setState({fuzzyMatchKey:a,fuzzyMatchKeyAttempts:0}):n.setState(function(e){return{fuzzyMatchKeyAttempts:e.fuzzyMatchKeyAttempts==t.length-1?0:e.fuzzyMatchKeyAttempts+1}}),t},n.selectItemOnPress=function(e,t){if("Enter"==e.key)n.props.itemSelect(t,n.props.id),n.onSelect("select",e);else{var a=n.fuzzyMatch(e.key);0<a.length&&a[n.state.fuzzyMatchKeyAttempts].focus()}},t))}return y()(r,e),l()(r,[{key:"componentDidMount",value:function(){var a=this;document.addEventListener("mousedown",this.handleClickOutside),window.addEventListener("resize",this.setOptionWidth),this.setOptionWidth(),this.state.subject.debounceTime(200).subscribe(function(e,t){"blur"!==e&&(a.options&&a.toggleOptionDisplay(),a.setOptionWidth())})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside),window.removeEventListener("resize",this.setOptionWidth)}},{key:"isVisible",value:function(){return this.options.classList.contains("show")}},{key:"render",value:function(){var a=this,e=this.props.isHidden?" hidden":"";return g.a.createElement("div",{className:"selection-container ".concat(this.props.className+e||""),ref:function(e){return a.wrapperRef=e}},g.a.createElement("h2",{className:"select-title"},this.props.title),g.a.createElement("div",{id:"selection-box",onKeyDown:this.handleKeyPress,tabIndex:0,ref:"selectionBox",className:"select-box ".concat(this.props.invalid?"field__invalid":""),onFocus:function(e){return a.onSelect("focus",e)},onBlur:function(e){return a.onSelect("blur",e)},onClick:function(e){return a.onSelect("click",e)}},g.a.createElement("h3",{className:this.props.isGray?"gray-text":""},this.props.selectText),g.a.createElement("div",{className:"arrow-box"},g.a.createElement("span",{className:"arrow-select black-arrow"}))),g.a.createElement("div",{ref:function(e){return a.options=e},id:"options",className:"hidden selection-options"},this.props.options.map(function(t,e){"select-option ".concat(t===a.props.selectText?"selected":"");return g.a.createElement("div",{tabIndex:0,style:{width:"".concat(a.state.optionWidth-1.75,"px")},className:"select-option",key:e,onKeyPress:function(e){return a.selectItemOnPress(e,t)},onClick:function(){a.props.itemSelect(t,a.props.id),a.onSelect("itemselect","itemselect")}},g.a.createElement("h3",null,t),g.a.createElement("img",{alt:"check",className:"checkmark ".concat(t===a.props.selectText?"show":"hidden"," "),src:D}))},this)),this.props.invalid?g.a.createElement("p",{className:"invalid-field"}," ",this.props.errorText):"")}}]),r}(g.a.Component);(t.a=E).displayName="SelectComponent"},412:function(e,t,a){var n=a(413),i=a(414),s=a(415);e.exports=function(e){return n(e)||i(e)||s()}},413:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}},414:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},415:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}}}]);